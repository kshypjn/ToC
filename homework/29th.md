Let $L$ be a regular language. Then there exists a constant $p$ such that every word $w \in L$ with length at least $p$ can be written as $w = xyz$, where $|xy| \le p$, $|y| \ge 1$, and for all $k \ge 0$, the word $xy^kz$ is also in $L$.

Proof

Let $L$ be a regular language. By definition, there exists a DFA $M = (Q, \Sigma, \delta, q_0, F)$ that recognizes $L$.

Let $p$ be the number of states in $M$, $p = |Q|$.

Consider any string $w \in L$ such that $|w| = n \ge p$. Let $w = w_1 w_2 \dots w_n$.
When $M$ processes $w$, it visits a sequence of states $r_0, r_1, \dots, r_n$, defined by:
* $r_0 = q_0$
* $r_{i} = \delta(r_{i-1}, w_i)$ for $i = 1, \dots, n$

Consider the first $p+1$ states in this sequence: $r_0, r_1, \dots, r_p$.
Since the DFA has only $p$ distinct states (the set $Q$), by the Pigeonhole Principle, at least one state must appear more than once in this sequence of $p+1$ states.

Therefore there exist two indices $i$ and $j$ such that:
$$
0 \le i < j \le p \quad \text{and} \quad r_i = r_j
$$

decomposing $w$ into three substrings $x, y, z$ as follows:
* $x = w_1 \dots w_i$
* $y = w_{i+1} \dots w_j$
* $z = w_{j+1} \dots w_n$

verifing the three conditions of the pumping lemma:

1.  **$|xy| \le p$**:
    The end of the substring $y$ corresponds to the state $r_j$. Since we chose $j \le p$, the length of the prefix $xy$ is exactly $j$. Thus, $|xy| \le p$.

2.  **$|y| \ge 1$**:
    Since $i < j$, the length of $y$, which is $j - i$, must be at least 1. Thus, $|y| \ge 1$.

3.  **For all $k \ge 0, xy^kz \in L$**:
    * Processing $x$ takes $M$ from $r_0$ to $r_i$.
    * Processing $y$ takes $M$ from $r_i$ to $r_j$. Since $r_i = r_j$, processing $y$ forms a cycle starting and ending at $r_i$.
    * Processing $z$ takes $M$ from $r_j$ (which is $r_i$) to $r_n$.

    Since $w \in L$, the final state $r_n$ is an accepting state ($r_n \in F$).
    
    For any $k \ge 0$, the string $xy^kz$ is processed as follows:
    * $x$ leads from $r_0$ to $r_i$.
    * $y^k$ loops from $r_i$ to $r_i$ exactly $k$ times.
    * $z$ leads from $r_i$ to $r_n$.

    Since the machine ends in $r_n \in F$, the string $xy^kz$ is accepted by $M$. Thus, $xy^kz \in L$.

